<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 800 220"
   version="1.1"
   id="svg305"
   sodipodi:docname="encoder_decoder_architecture.svg"
   inkscape:version="1.2.2 (b0a8486541, 2022-12-01)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview307"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     showgrid="false"
     inkscape:zoom="1.6375"
     inkscape:cx="400"
     inkscape:cy="110.83969"
     inkscape:window-width="1854"
     inkscape:window-height="1011"
     inkscape:window-x="66"
     inkscape:window-y="32"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg305" />
  <!-- Background -->
  <rect
     width="800"
     height="220"
     fill="#f8f9fa"
     id="rect228" />
  <!-- Title -->
  <text
     x="400"
     y="25"
     font-family="Arial, sans-serif"
     font-size="18"
     font-weight="bold"
     text-anchor="middle"
     fill="#333"
     id="text230">Encoder-Decoder Architecture</text>
  <!-- Input Sentence -->
  <g
     transform="translate(17.601346,76.306208)"
     id="g236">
    <text
       x="30"
       y="-10"
       font-family="Arial, sans-serif"
       font-size="12px"
       font-weight="bold"
       fill="#333333"
       id="text232">Input (English)</text>
    <text
       x="30"
       y="15"
       font-family="Arial, sans-serif"
       font-size="14px"
       text-anchor="middle"
       fill="#1976d2"
       id="text234">&quot;Hello world&quot;</text>
  </g>
  <!-- Arrow from Input to Encoder -->
  <path
     d="M 90 85 L 130 85"
     stroke="#666"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="path238" />
  <!-- Encoder -->
  <g
     transform="translate(152.75931,56.027217)"
     id="g248">
    <rect
       x="0"
       y="0"
       width="100"
       height="60"
       fill="#fff3e0"
       stroke="#f57c00"
       stroke-width="3"
       rx="10"
       id="rect240" />
    <text
       x="50"
       y="20"
       font-family="Arial, sans-serif"
       font-size="12px"
       font-weight="bold"
       text-anchor="middle"
       fill="#f57c00"
       id="text242">ENCODER</text>
    <text
       x="50"
       y="35"
       font-family="Arial, sans-serif"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text244">Self-Attention</text>
    <text
       x="50"
       y="47"
       font-family="Arial, sans-serif"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text246">Feed Forward</text>
  </g>
  <!-- Arrow from Encoder to Context -->
  <path
     d="M 270 85 L 310 85"
     stroke="#666"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="path250" />
  <!-- Context Vectors -->
  <g
     transform="translate(321.73347,66.348886)"
     id="g262">
    <text
       x="30"
       y="-10"
       font-family="Arial, sans-serif"
       font-size="12px"
       font-weight="bold"
       fill="#333333"
       id="text252">Context</text>
    <rect
       x="0"
       y="0"
       width="15"
       height="40"
       fill="#f3e5f5"
       stroke="#7b1fa2"
       stroke-width="2"
       rx="3"
       id="rect254" />
    <rect
       x="20"
       y="0"
       width="15"
       height="40"
       fill="#f3e5f5"
       stroke="#7b1fa2"
       stroke-width="2"
       rx="3"
       id="rect256" />
    <rect
       x="40"
       y="0"
       width="15"
       height="40"
       fill="#f3e5f5"
       stroke="#7b1fa2"
       stroke-width="2"
       rx="3"
       id="rect258" />
    <text
       x="30"
       y="55"
       font-family="Arial, sans-serif"
       font-size="8px"
       text-anchor="middle"
       fill="#666666"
       id="text260">Hidden States</text>
  </g>
  <!-- Arrow from Context to Decoder -->
  <path
     d="M 390 85 L 430 85"
     stroke="#666"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="path264" />
  <!-- Decoder -->
  <g
     transform="translate(450, 55)"
     id="g276">
    <rect
       x="0"
       y="0"
       width="100"
       height="60"
       fill="#e8f5e8"
       stroke="#388e3c"
       stroke-width="3"
       rx="10"
       id="rect266" />
    <text
       x="50"
       y="18"
       font-family="Arial, sans-serif"
       font-size="12"
       font-weight="bold"
       text-anchor="middle"
       fill="#388e3c"
       id="text268">DECODER</text>
    <text
       x="50"
       y="30"
       font-family="Arial, sans-serif"
       font-size="7"
       text-anchor="middle"
       fill="#666"
       id="text270">Self-Attention</text>
    <text
       x="50"
       y="40"
       font-family="Arial, sans-serif"
       font-size="7"
       text-anchor="middle"
       fill="#666"
       id="text272">Cross-Attention</text>
    <text
       x="50"
       y="50"
       font-family="Arial, sans-serif"
       font-size="7"
       text-anchor="middle"
       fill="#666"
       id="text274">Feed Forward</text>
  </g>
  <!-- Arrow from Decoder to Output -->
  <path
     d="M 570 85 L 610 85"
     stroke="#666"
     stroke-width="2"
     marker-end="url(#arrowhead)"
     id="path278" />
  <!-- Output Sentence -->
  <g
     transform="translate(630,74.567964)"
     id="g284">
    <text
       x="40"
       y="-10"
       font-family="Arial, sans-serif"
       font-size="12px"
       font-weight="bold"
       fill="#333333"
       id="text280">Output (French)</text>
    <text
       x="40"
       y="15"
       font-family="Arial, sans-serif"
       font-size="14px"
       text-anchor="middle"
       fill="#f9a825"
       id="text282">&quot;Bonjour monde&quot;</text>
  </g>
  <!-- Cross-attention connection: Context vectors to Decoder -->
  <!-- Autoregressive arrow: Decoder output feeds back to decoder input -->
  <path
     d="m 531.47811,124.44813 q 30,20 -30,20 -60,0 -30,-20"
     stroke="#388e3c"
     stroke-width="2"
     fill="none"
     stroke-dasharray="3, 3"
     marker-end="url(#arrowhead-green)"
     id="path290" />
  <text
     x="498.68597"
     y="159.0493"
     font-family="Arial, sans-serif"
     font-size="9px"
     text-anchor="middle"
     fill="#388e3c"
     id="text292">Autoregressive</text>
  <!-- Arrow marker definitions -->
  <defs
     id="defs303">
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="0 0, 10 3.5, 0 7"
         fill="#666"
         id="polygon294" />
    </marker>
    <marker
       id="arrowhead-purple"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="0 0, 10 3.5, 0 7"
         fill="#7b1fa2"
         id="polygon297" />
    </marker>
    <marker
       id="arrowhead-green"
       markerWidth="10"
       markerHeight="7"
       refX="9"
       refY="3.5"
       orient="auto">
      <polygon
         points="0 0, 10 3.5, 0 7"
         fill="#388e3c"
         id="polygon300" />
    </marker>
  </defs>
</svg>
